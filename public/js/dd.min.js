angular.module("dd-templates",["confirm/confirm.html","users/users-table.html"]),angular.module("confirm/confirm.html",[]).run(["$templateCache",function(a){a.put("confirm/confirm.html",'<div class="dd-confirm">\n	<div class="dd-overlay" ng-class="{ visible: ctrl.isVisible }" ng-click="ctrl.close()">\n		<div class="dd-confirm-box" ng-class="{ visible: ctrl.isVisible }">\n			<p class="dd-confirm-question" ng-bind-html="ctrl.question"></p>\n			<button ng-click="ctrl.sayYes()" class="dd-confirm-yes">YEAH, DO IT.</button>\n			<button ng-click="ctrl.sayNo()" class="dd-confirm-no no">WAIT, NO!</button>\n		</div>\n	</div>\n	<a ng-click="ctrl.ask()" class="dd-confirm-link" href="javascript:;" ng-transclude></a>\n</div>')}]),angular.module("users/users-table.html",[]).run(["$templateCache",function(a){a.put("users/users-table.html",'<table ng-show="ctrl.users !== undefined" class="fade-in">\n	<thead>\n		<tr>\n			<th>Username</th>\n			<th>Options</th>\n		</tr>\n	</thead>\n	<tbody>\n		<tr ng-repeat="user in ctrl.users">\n			<td>{{ user.username }}</td>\n			<td>\n				<dd-confirm\n					ng-if="ctrl.users.length > 1"\n					ng-hide="ctrl.pendingUserId == user.id"\n					action="ctrl.removeUser(user.id)"\n					question="Are you sure you want to remove <strong>{{ user.username }}</strong>?">remove</dd-confirm>\n				<div ng-show="ctrl.pendingUserId == user.id" class="loader-small"></div>\n			</td>\n		</tr>\n	</tbody>\n</table>\n<div ng-show="ctrl.users === undefined" class="loader"></div>')}]);var DD=angular.module("DD",["dd-templates"]);DD.controller("ddConfirmController",["$scope","$sce",function(a,b){var c=this;c.question=a.question=b.trustAsHtml(a.question),c.ask=function(){c.isVisible=!0},c.sayYes=function(){c.close(),a.action()},c.sayNo=function(){c.close()},c.close=function(){c.isVisible=!1}}]),DD.directive("ddConfirm",function(){return{restrict:"E",transclude:!0,scope:{question:"@",action:"&"},templateUrl:"confirm/confirm.html",controller:"ddConfirmController",controllerAs:"ctrl"}}),DD.controller("ddUsersController",["ddUsersService",function(a){var b=this;b.getUsers=function(){a.get().success(function(a){b.users=a})},b.removeUser=function(c){b.pendingUserId=c,a.remove(c).success(function(){b.pendingUserId=null,angular.forEach(b.users,function(a,d){a.id===c&&b.users.splice(d,1)})})},b.getUsers()}]),DD.factory("ddUsersService",["$http",function(a){var b="/admin/users/";return{get:function(c){return a.get(void 0!==c?b+c:b)},remove:function(c){return a({method:"DELETE",url:b+c})}}}]),DD.directive("ddUsersTable",[function(){return{restrict:"E",templateUrl:"users/users-table.html",controller:"ddUsersController",controllerAs:"ctrl"}}]);
//# sourceMappingURL=dd.min.js.map